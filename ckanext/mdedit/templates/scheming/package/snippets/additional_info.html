{# Anja: 2.11.2016 modified from scheming to include tabs #}


{% extends "package/snippets/additional_info.html" %}

{%- set exclude_fields = [
    'id',
    'title',
    'name',
    'notes',
    ] -%}


{% block package_additional_info %}
  {%- for field in schema.dataset_fields -%}

    {%- if field.field_name == "tab_delimiter" -%}

    </tbody>
    </table>
    <table class="table table-striped table-bordered table-condensed">
      <thead>
        <tr>
          <th scope="col"><i>{{ field.tab_delimiter}}</i></th>
        </tr>
      </thead>
      <tbody>

    {%- elif field.field_name not in exclude_fields
        and field.display_snippet is not none -%}
      <tr>
        <th scope="row" class="dataset-label">{{
          h.scheming_language_text(field.label) }}</th>
        <td class="dataset-details"{%
          if field.display_property %} property="{{ field.display_property
          }}"{% endif %}>{%- snippet 'scheming/snippets/display_field.html',
          field=field, data=pkg_dict, schema=schema -%}</td>
      </tr>
    {%- endif -%}
    {%- if field.field_name == "owner_org" -%}
    <tr>
      <th scope="row" class="dataset-label">{{
        h.scheming_language_text(field.label) }}</th>
      <td class="dataset-details">
      {%- snippet 'scheming/snippets/display_field.html',
        field=field, data=pkg_dict, schema=schema -%}
      </td>
    </tr>
    {%- endif -%}

  {%- endfor -%}

  {# Anja 2.11.2016 IMPORTANT: Needs to be generalized later (i.e. check if already in field)
  {% if h.check_access('package_update',{'id':pkg_dict.id}) %}
    <tr>
      <th scope="row" class="dataset-label">{{ _("State") }}</th>
      <td class="dataset-details">{{ _(pkg_dict.state) }}</td>
    </tr>
  {% endif %}
  #}
{% endblock %}
